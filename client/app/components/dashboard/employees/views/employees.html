<div ng-controller="EmployeeController" class="container" style='padding-left:5em;'>
	<h1 align="center">Employees</h1><br>
	<button type="button" class="btn btn-block btn-success" ng-click="openModal()">
		<i class="glyphicon glyphicon-plus">
		</i> Add
	</button>
	<br>
	<br>
	<div id="doctors-table">
		<table st-table="displayedCollection" st-safe-src="rowCollection" class="table table-striped">
			<thead>
				<tr>
					<th st-sort="firstName">Name</th>
					<th st-sort="birthDate">Phone Number</th>
					<th st-sort="balance">Email</th>
				</tr>
				<tr>
					<th colspan="5"><input st-search="" class="form-control" placeholder="global search ..." type="text"/></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="row in displayedCollection">
					<form name="editForm" ng-submit="editRowCollection(row)" novalidate>
						<td style="padding-left:2em;">
							<div class="form-group" ng-class="{'has-error': editForm.name.$invalid && !editForm.name.$pristine }">
								<span data-ng-hide="editMode">{{row.Name}}</span>
								<input name="name" type="text" class="form-control edit-input" data-ng-show="editMode" data-ng-model="row.Name" ng-pattern="/^[^0-9]+$/" data-ng-required required />
								<p ng-show="editForm.name.$invalid && !editForm.name.$pristine" class="help-block">Name cannot have numbers. {{$scope.editForm.name}}</p>
							</div>
						</td>
						<td>
							<div class="form-group" ng-class="{'has-error': editForm.number.$invalid && !editForm.number.$pristine }">
								<input type="checkbox" data-ng-hide="editMode"> 
								<span data-ng-hide="editMode">{{row.PhoneNumber}}</span>
								<input name="number" type="text" class="form-control edit-input" data-ng-show="editMode" data-ng-model="row.PhoneNumber" ui-mask="{{'(999) 999-9999'}}" data-ng-required required>
								<p ng-show="editForm.number.$invalid && !editForm.number.$pristine" class="help-block">Enter a valid phone number.</p>
							</div>
						</td>
						<td>
							<div class="form-group" ng-class="{'has-error': editForm.email.$invalid && !editForm.email.$pristine }">
								<input type="checkbox" data-ng-hide="editMode"> 
								<span data-ng-hide="editMode">{{row.Email}}</span>
								<input type="email" name="email" class="form-control edit-input" data-ng-show="editMode" data-ng-model="row.Email" data-ng-required required>
								<p ng-show="editForm.email.$invalid && !editForm.email.$pristine" class="help-block">Enter a valid email.</p>
							</div>
						</td>
						<td>
							<button type="submit" data-ng-hide="editMode" data-ng-click="editMode = true; editRowCollection(row)" class="btn col-md-5 btn-info btn-edit" style="margin-right:.5em;">
								<i class="glyphicon glyphicon-pencil">
								</i>
							</button>
							<button type="submit" popover="Press ctrl+z or command+z to undo changes" popover-trigger="mouseenter" data-ng-show="editMode" data-ng-click="editMode = false" class="btn col-md-5 btn-primary"  style="margin-right:.5em;" ng-disabled="editForm.$invalid">
								<i class="glyphicon glyphicon-ok-circle">
								</i>
							</button>
							<button type="button" ng-click="editMode ? cancel(row) : removeItem(row); editMode=false" class="btn col-md-5 btn-danger">
								<i ng-class="editMode ? 'glyphicon glyphicon-ban-circle':'glyphicon glyphicon-remove'"></i>
							</button>
						</td>
					</form>
				</tr>
			</tbody>
		</table>
	</div>
</div>